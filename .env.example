# =============================================================================
# CDS Connect Production Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
DOMAIN=cdsconnect.org
LETSENCRYPT_EMAIL=admin@cdsconnect.org

# -----------------------------------------------------------------------------
# Image Versions (use specific tags in production, not 'latest')
# -----------------------------------------------------------------------------
CQL_SERVICES_VERSION=latest
AUTHORING_TOOL_VERSION=latest

# -----------------------------------------------------------------------------
# CQL Services Configuration
# -----------------------------------------------------------------------------
# Required: Your UMLS API Key for VSAC value set downloads
# Get one at: https://uts.nlm.nih.gov/uts/
UMLS_API_KEY=your-umls-api-key-here

# Maximum request body size (default: 2mb)
CQL_SERVICES_MAX_REQUEST_SIZE=2mb

# Set to 'true' to ignore VSAC download errors (NOT recommended for production)
IGNORE_VSAC_ERRORS=false

# Card logging: 'off', 'console', or 'file:/path/to/folder'
CARD_LOGGING=off

# -----------------------------------------------------------------------------
# Authoring Tool Configuration
# -----------------------------------------------------------------------------
# Required: Secret for session encryption (must be at least 32 characters)
# Generate with: openssl rand -hex 32
AUTH_SESSION_SECRET=your-session-secret-here

# Enable local authentication (default: true)
# When enabled, users are authenticated against config/local-users.json
AUTH_LOCAL_ACTIVE=true

# Optional: CDS Connect Repository publishing endpoint
REPO_PUBLISH_ENDPOINT=
REPO_PUBLISH_TOKEN=

# -----------------------------------------------------------------------------
# User Management
# -----------------------------------------------------------------------------
# Users are defined in config/local-users.json with bcrypt-hashed passwords.
# See config/local-users.example.json for the format.
#
# To create a bcrypt hash for a password, run:
#   node -e "require('bcryptjs').hash('yourpassword', 10).then(console.log)"
#
# Or use an online bcrypt generator (use cost factor 10-12)

# -----------------------------------------------------------------------------
# CQL Services Sync Configuration
# -----------------------------------------------------------------------------
# Enable sync from Authoring Tool to CQL Services (default: true)
# When enabled, "Download & Sync" button writes ELM JSON and Hook configs
# directly to the CQL Services config directories
CQL_SERVICES_SYNC_ENABLED=true

# -----------------------------------------------------------------------------
# Branding Configuration (optional)
# -----------------------------------------------------------------------------
# Set REACT_APP_BRANDING_ENABLED=true to show the institutional header
# If not enabled (default), the entire header section will be hidden

REACT_APP_BRANDING_ENABLED=false
REACT_APP_BRANDING_IMAGE_URL=
REACT_APP_BRANDING_IMAGE_ALT=Organization logo
REACT_APP_BRANDING_TEXT=
REACT_APP_BRANDING_LINK_URL=
REACT_APP_BRANDING_COLOR=#990000

# Example: Custom organization branding
# REACT_APP_BRANDING_ENABLED=true
# REACT_APP_BRANDING_IMAGE_URL=/assets/images/org-logo.png
# REACT_APP_BRANDING_IMAGE_ALT=My Organization Logo
# REACT_APP_BRANDING_TEXT=My Organization Name
# REACT_APP_BRANDING_LINK_URL=https://example.org
# REACT_APP_BRANDING_COLOR=#1e2f40

# -----------------------------------------------------------------------------
# Analytics (Optional)
# -----------------------------------------------------------------------------
# Digital Analytics Program URL
REACT_APP_DAP_URL=

# Google Tag Manager Key
REACT_APP_GTM_KEY=

# -----------------------------------------------------------------------------
# MongoDB Configuration (for production, consider authentication)
# -----------------------------------------------------------------------------
# If using MongoDB authentication, update MONGO_URL in docker-compose.yml
# MONGO_INITDB_ROOT_USERNAME=admin
# MONGO_INITDB_ROOT_PASSWORD=secure-password-here